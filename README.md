# Pick HTML Element

![GitHub license](https://img.shields.io/github/license/playfulcorgi/pick-html-element) ![GitHub last commit](https://img.shields.io/github/last-commit/playfulcorgi/pick-html-element/main)

<!-- FIXME: More images!!!! -->

<!-- FIXME: show a gif of how the script work on a website -->

Generates an interface for picking HTML elements on any website using mouse and keyboard inputs. The interface sends out an event when an element is picked so that another script can pick up the collected information and act upon it.

**What is the purpose of this project?** Picking HTML elements on a website using a visual tool is a useful feature of many marketing, testing and web scraping tools. It avoids the need to have a programmer write custom CSS selectors for websites to achieve the same goal. While the quality of results achieved by using this project may not be as high as CSS seclectors written by hand, it can be used by anyone and is much faster to use than writing code.

**Are there other projects similar to this?** I have found similar, non open source solutions, such as the [Facebook Event Setup Tool][1]. They inspired this project and the solutions used in it.

**Why can't I select element X on website Y?** This project is a one-size-fits-all solution. Nowadays, websites can be incredibly complex. There is, and probably never will be, a perfect tool for selecting elements on all websites. This project is based on best practices of selecting elements used by similar tools. This tool covers common use cases. If you need to select elements with 100% accuracy all the time, you need to create a custom solution for every website.

## Demo

To test the script in action, open `example/index.html` in Google Chrome.

![Pick HTML element in action](./README-media/pick-html-element-example.gif)

## How to use

Copy `dist/index.js` into your project and link to it using a `<script>` tag or copy `dist/index.js` using the `copy-webpack-plugin` in Webpack:

```js
// Can be used to bundle the project within a Chrome extension or to proxy the script for picking elements through a server before it is downloaded by browsers.

new CopyPlugin({
  patterns: [
    {
      from: 'node_modules/pick-html-element/dist/index.js',
      to: 'pick-html-element.js'
    }
  ]
})
```

Show the selection interface to the user:

```html
<script>
  window.pickHtmlElementScript.init()
</script>
```

Listen for the select event:

```html
<script>
  const listener = (event) => {
    console.log('User selected an HTML element. Details: ', event.detail)
    // Remove the interface for selecting an element or keep listening for more elements.
    window.pickHtmlElementScript.destroy()
  }

  window.addEventListener('pickHtmlElementScriptElementSelect', listener)
</script>
```

## Development

```shell
npm install
npm run-script build:watch
```

## Production

The /dist directory contains files ready for production use. They can be generated by running the following:

```shell
npm install
npm run-script build:production
```

## Docker

It's possible to run the development and production commands above inside a Docker container already configured with the right tools. To do so, use a prefix `./bin/exec` before each command. For example, `./bin/exec npm run-script build:watch`.

## Maintenance

The project uses ESLint and Prettier for maintaining a consistent code style across source files. Usually, these tools are picked up by the text editor and used automatically to validate and format code. They can be started manually using NPM commands specified inside package.json in the `scripts` section.

[1]: https://www.facebook.com/business/help/2142172942565580?id=1205376682832142
